# 🔑 管理员账户使用指南

## 📱 默认管理员账户

为了方便测试和开发，应用现在支持一个默认的管理员账户：

### 登录信息
- **邮箱**: `admin@admin.com`
- **密码**: `password`

### 功能特点

#### ✅ 管理员特权
- 无需在Supabase中注册
- 自动创建管理员用户资料
- 支持所有应用功能
- 自动数据同步到Supabase

#### 🔄 自动同步
- 登录后自动同步AsyncStorage数据到Supabase
- 所有操作实时同步到云端
- 支持菜谱、收藏、评论等所有功能

### 🚀 使用步骤

#### 第1步：打开应用
访问：http://localhost:8083

#### 第2步：使用管理员账户登录
1. 在登录页面输入：
   - **邮箱**: `admin@admin.com`
   - **密码**: `password`
2. 点击"登录"按钮
3. 等待登录成功提示

#### 第3步：自动数据同步
登录成功后，应用会：
1. 自动检测AsyncStorage中的本地数据
2. 后台静默同步到Supabase
3. 在控制台显示同步进度

#### 第4步：正常使用应用
- 所有功能正常使用
- 数据自动保存到云端
- 无需任何额外操作

### 🔍 控制台日志

使用管理员账户登录时，您会看到以下日志：

```
🔑 使用管理员账户登录
✅ 管理员用户已创建 (或 管理员用户已存在)
🔄 用户已登录，开始自动同步数据...
📤 检测到本地数据，开始同步到Supabase...
👤 使用管理员账户进行同步
✅ 用户数据同步完成
✅ 菜谱数据同步完成: X 个菜谱
✅ 收藏数据同步完成: X 个收藏
✅ 评论数据同步完成
✅ 社交统计同步完成
✅ 自动同步完成！
```

### 🛠️ 技术实现

#### 特殊处理逻辑
- 在`AuthContext`中检测`admin@admin.com`账户
- 跳过Supabase Auth，直接创建模拟用户
- 自动在Supabase中创建管理员用户记录
- 支持所有数据同步功能

#### 用户ID
- 管理员用户ID: `00000000-0000-0000-0000-000000000001`
- 在Supabase中作为普通用户处理
- 支持所有RLS策略

### 🔧 开发者说明

#### 修改的文件
- `src/contexts/AuthContext.tsx` - 添加管理员登录逻辑
- `src/services/autoSyncService.ts` - 支持管理员用户同步

#### 安全考虑
- 仅用于开发和测试
- 生产环境应禁用或修改
- 密码硬编码，仅用于测试

### 🎯 测试场景

#### 场景1：首次使用
1. 使用管理员账户登录
2. 查看自动同步日志
3. 验证数据是否同步到Supabase

#### 场景2：添加新数据
1. 登录后添加新菜谱
2. 收藏菜谱
3. 添加评论
4. 验证数据实时同步

#### 场景3：数据验证
1. 检查Supabase数据库
2. 确认管理员用户存在
3. 验证所有数据正确同步

### ⚠️ 注意事项

1. **仅用于测试**：管理员账户仅用于开发和测试
2. **生产环境**：部署到生产环境前应移除或修改
3. **数据安全**：管理员账户可以访问所有数据
4. **网络要求**：需要网络连接才能同步到Supabase

---

**现在您可以使用 `admin@admin.com` / `password` 登录并测试所有功能！** 🎉
