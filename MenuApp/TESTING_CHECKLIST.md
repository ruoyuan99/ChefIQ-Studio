# 测试检查清单

## ⚠️ 测试前必做

### 1. 执行数据库迁移脚本
- [ ] 登录 Supabase Dashboard
- [ ] 进入 SQL Editor
- [ ] 执行 `database/add_bio_and_points_fields.sql`
- [ ] 确认脚本执行成功

### 2. 启动应用
- [ ] 运行 `npm start`
- [ ] 在模拟器或真机上打开应用
- [ ] 登录账号

---

## ✅ 功能测试

### 测试 1: 用户资料编辑

#### 1.1 基本功能
- [ ] 点击 Profile 页面的 "Edit Profile" 按钮
- [ ] 验证 EditProfileScreen 正常打开
- [ ] 验证当前用户信息正确显示

#### 1.2 头像功能
- [ ] 点击头像区域
- [ ] 选择 "Take Photo" - 拍照并确认
- [ ] 选择 "Choose from Library" - 选择图片并确认
- [ ] 选择 "Remove" - 移除头像
- [ ] 点击 "Save" 保存
- [ ] 验证头像在 Profile 页面更新

#### 1.3 姓名编辑
- [ ] 修改姓名字段
- [ ] 点击 "Save"
- [ ] 验证姓名更新

#### 1.4 简介编辑
- [ ] 修改简介字段（bio）
- [ ] 点击 "Save"
- [ ] 验证简介保存

#### 1.5 数据同步验证
- [ ] 编辑资料后退出应用
- [ ] 重新登录
- [ ] 验证资料数据仍然存在

---

### 测试 2: 积分系统

#### 2.1 创建食谱积分
- [ ] 创建一个新食谱
- [ ] 发布食谱
- [ ] 进入 Profile 页面
- [ ] 验证积分增加 50 分
- [ ] 检查积分显示正确

#### 2.2 点赞积分
- [ ] 进入任意食谱详情页面
- [ ] 点击 "Like" 按钮
- [ ] 进入 Profile 页面
- [ ] 验证积分增加 5 分

#### 2.3 收藏积分
- [ ] 进入任意食谱详情页面
- [ ] 点击 "Favorite" 按钮
- [ ] 进入 Profile 页面
- [ ] 验证积分增加 10 分

#### 2.4 分享积分
- [ ] 进入任意食谱详情页面
- [ ] 点击分享按钮
- [ ] 完成分享操作
- [ ] 进入 Profile 页面
- [ ] 验证积分增加 15 分

#### 2.5 尝试食谱积分
- [ ] 进入任意食谱详情页面
- [ ] 点击 "Try it!" 按钮
- [ ] 进入 Profile 页面
- [ ] 验证积分增加 20 分

#### 2.6 评论积分
- [ ] 进入任意食谱详情页面
- [ ] 添加一条评论
- [ ] 进入 Profile 页面
- [ ] 验证积分增加 8 分

#### 2.7 积分同步验证
- [ ] 执行多个积分操作
- [ ] 退出应用并重新登录
- [ ] 验证积分数据仍然存在

---

### 测试 3: 评论系统

#### 3.1 添加评论
- [ ] 进入任意食谱详情页面
- [ ] 滚动到底部评论区域
- [ ] 输入评论内容
- [ ] 点击发送按钮
- [ ] 验证评论显示在列表中

#### 3.2 评论显示
- [ ] 验证评论显示作者信息
- [ ] 验证评论显示时间
- [ ] 验证评论内容正确

#### 3.3 评论同步
- [ ] 添加一条评论
- [ ] 退出应用并重新登录
- [ ] 进入同一食谱详情页面
- [ ] 验证评论仍然存在

#### 3.4 评论点赞
- [ ] 进入有评论的食谱详情页面
- [ ] 点击评论的点赞按钮
- [ ] 验证点赞数增加

---

## 🔍 数据库验证

### 验证用户资料同步
- [ ] 打开 Supabase Dashboard
- [ ] 进入 Table Editor > users
- [ ] 找到当前用户的记录
- [ ] 验证 `bio` 字段已更新
- [ ] 验证 `avatar_url` 已更新
- [ ] 验证 `total_points` 字段存在

### 验证积分同步
- [ ] 进入 Table Editor > users
- [ ] 找到当前用户的记录
- [ ] 验证 `total_points` 字段已更新
- [ ] 进入 Table Editor > user_points
- [ ] 验证积分历史记录已创建

### 验证评论同步
- [ ] 进入 Table Editor > comments
- [ ] 验证新评论已创建
- [ ] 验证 `user_id` 和 `recipe_id` 正确
- [ ] 验证评论内容正确

---

## 🐛 问题记录

### 发现的问题
1. _______________________
2. _______________________
3. _______________________

### 解决方案
1. _______________________
2. _______________________
3. _______________________

---

## ✅ 测试完成确认

- [ ] 所有功能测试完成
- [ ] 数据库验证完成
- [ ] 问题已记录
- [ ] 测试报告已生成

---

**测试日期：** __________
**测试人员：** __________
**测试结果：** ✅ 通过 / ❌ 失败

